(function(){var e=!0,k=null,n=!1;
KolorArea=function(y,o){function J(){a.close_displayed!==n&&d.find(".kolorAreaCloseBtn").unbind("click").bind("click",function(a){ktools.DOM.stopEventPropagation(a);t.b()})}function z(){if(a.overlay_displayed===e){var b=d.find(".kolorAreaOverlay");b.css("opacity",a.overlay_alpha);b.css("background","#"+a.overlay_color);b.css("width",f+"px");b.css("height",j+"px");b.unbind("click").bind("click",function(a){ktools.DOM.stopEventPropagation(a);t.b()})}}function A(a,c){var h=d.find(".kolorArea"),i=ktools.Color.hex2rgb(a);
"Explorer"==kolorBrowserDetect.browser&&9>kolorBrowserDetect.version?h.css("background","rgb("+i[0]+","+i[1]+","+i[2]+")"):h.css("background","rgba("+i[0]+","+i[1]+","+i[2]+","+c+")")}function B(){d.find(".kolorArea").stop();d.find(".kolorArea").css("top",p+"px");d.find(".kolorArea").css("left",q+"px")}function u(){d.find(".kolorArea").stop();d.find(".kolorArea").css("top",v+"px");d.find(".kolorArea").css("left",w+"px")}function C(){var b=d.find(".kolorArea"),c=a.area_width,h=a.area_height;"percent"==
a.area_width_unit&&(c*=f/100);"percent"==a.area_height_unit&&(h*=j/100);b.css("width",c);b.css("height",h);b.find(".kolorAreaContent").css("width",c-2*a.padding+"px");a.close_displayed===e?b.find(".kolorAreaTitle").css("width",c-2*a.padding-32+"px"):a.display_title===e&&b.find(".kolorAreaTitle").css("width",c-2*a.padding+"px");a.display_title===e||a.close_displayed===e?b.find(".kolorAreaContent").css("height",h-2*a.padding-32-5+"px"):b.find(".kolorAreaContent").css("height",h-2*a.padding+"px")}function D(){var b=
0,c=0;switch(a.position){case KolorArea.a.j:b=a.margin_y;c=a.margin_x;break;case KolorArea.a.d:b=a.margin_y;c=(f-g)/2+a.margin_x;break;case KolorArea.a.k:b=a.margin_y;c=f-g-a.margin_x;break;case KolorArea.a.i:b=(j-m)/2+a.margin_y;c=f-g-a.margin_x;break;case KolorArea.a.h:b=j-m-a.margin_y;c=f-g-a.margin_x;break;case KolorArea.a.f:b=j-m-a.margin_y;c=(f-g)/2+a.margin_x;break;case KolorArea.a.g:b=j-m-a.margin_y;c=a.margin_x;break;case KolorArea.a.c:b=(j-m)/2+a.margin_y;c=a.margin_x;break;case KolorArea.a.p:b=
(j-m)/2+a.margin_y,c=(f-g)/2+a.margin_x}p=b;q=c}function E(){var b=0,c=0;switch(a.start_position){case KolorArea.a.j:b=-m;c=-g;break;case KolorArea.a.d:b=-m;c=q;break;case KolorArea.a.k:b=-m;c=f;break;case KolorArea.a.i:b=p;c=f;break;case KolorArea.a.h:b=j;c=f;break;case KolorArea.a.f:b=j;c=q;break;case KolorArea.a.g:b=j;c=-g;break;case KolorArea.a.c:b=p,c=-g}v=b;w=c}function F(){kolorBrowserDetect.isIE()&&11<=kolorBrowserDetect.getInternetExplorerVersion()&&document.msFullscreenElement!=k?(g=d.find(".kolorArea").get(0).clientWidth+
2*a.area_border_width,m=d.find(".kolorArea").get(0).clientHeight+2*a.area_border_width):(g=d.find(".kolorArea").width()+2*a.area_border_width,m=d.find(".kolorArea").height()+2*a.area_border_width)}function G(){kolorBrowserDetect.isIE()&&11<=kolorBrowserDetect.getInternetExplorerVersion()&&document.msFullscreenElement!=k?(f=document.getElementById(o).clientWidth,j=document.getElementById(o).clientHeight):(f=jQuery("#"+o).width(),j=jQuery("#"+o).height())}function K(){G();C();F();D();E();z();"close"==
r?u():"open"==r&&B()}function L(b){ktools.DOM.stopEventPropagation(b);t.b();a.close_onclick_callback&&ktools.Code.eval(a.close_onclick_callback)}var a={position:KolorArea.a.c,start_position:KolorArea.a.d,margin_x:50,margin_y:0,padding:15,background_color:"f2f2f2",background_alpha:0.8,topleft_radius:8,topright_radius:8,bottomleft_radius:8,bottomright_radius:8,area_border_width:0,area_border_color:"f2f2f2",area_border_style:"solid",area_width:20,area_height:100,area_width_unit:"percent",area_height_unit:"percent",
overlay_displayed:n,overlay_color:"000000",overlay_alpha:0.5,animation:e,animation_duration:800,close_on_click:n,close_onclick_callback:n,close_callback:n,open_callback:n,close_displayed:n,display_title:n,title:"",title_color:"000000",title_font:"Verdana, Geneva, sans-serif",title_size:"14",title_weight:"bold",title_decoration:"normal",use_i18n:n,zorder:0},f=0,j=0,g=0,m=0,v=0,w=0,p=0,q=0,d=k,s=k,H=n,r=void 0,x=n,I=n,t=this;this.setKolorAreaOptions=this.n=function(b){jQuery.extend(a,b)};this.getKolorAreaOptions=
this.r=function(){return a};this.setKolorAreaContent=this.m=function(a){s=a};this.setReady=this.t=function(a){H=a};this.isReady=this.isReady=function(){return H};this.openKolorArea=this.s=function(){var b=x;if(x===n){var c='<div id="'+y+'" class="kolorAreaContainer" style="z-index:'+a.zorder+';">',c=c+'<div class="kolorArea">';if(a.close_displayed===e||a.display_title===e)c+='<div class="kolorAreaHeader"><div class="kolorAreaTitle">',""!=a.title&&(c+=ktools.I18N.getInstance().getMessage(a.title)),
c+="</div>";a.close_displayed===e&&(c+='<a class="kolorAreaCloseBtn" title="Close" />');if(a.close_displayed===e||a.display_title===e)c+="</div>";c+='<div class="kolorAreaContent loading"></div></div>';a.overlay_displayed===e&&(c+='<div class="kolorAreaOverlay"></div>');jQuery("#"+o).prepend(c+"</div>");d=jQuery("#"+y);A(a.background_color,a.background_alpha);var c=a.topleft_radius,h=a.topright_radius,i=a.bottomright_radius,f=a.bottomleft_radius,j=a.area_border_width,g=a.area_border_color,m=a.area_border_style,
l=d.find(".kolorArea");l.css("-moz-border-radius-topleft",c+"px");l.css("border-top-left-radius",c+"px");l.css("-webkit-border-top-left-radius",c+"px");l.css("-moz-border-radius-topright",h+"px");l.css("border-top-right-radius",h+"px");l.css("-webkit-border-top-right-radius",h+"px");l.css("-moz-border-radius-bottomright",i+"px");l.css("border-bottom-right-radius",i+"px");l.css("-webkit-border-bottom-right-radius",i+"px");l.css("-moz-border-radius-bottomleft",f+"px");l.css("border-bottom-left-radius",
f+"px");l.css("-webkit-border-bottom-left-radius",f+"px");l.css("border-width",j+"px");l.css("border-color","#"+g);l.css("border-style",m);c=a.padding;h=d.find(".kolorAreaContent");a.display_title===e||a.close_displayed===e?(i=d.find(".kolorAreaHeader"),i.css("margin",c+"px 0 5px "+c+"px"),i.css("padding-right",c+"px"),i=d.find(".kolorAreaCloseBtn"),i.css("top",c+"px"),i.css("right",c+"px"),h.css("margin","0 0 "+c+"px "+c+"px")):h.css("margin",c+"px 0 "+c+"px "+c+"px");h.css("padding-right",c+"px");
c=a.title_color;h=a.title_font;i=a.title_weight;f=a.title_size;j=a.title_decoration;a.display_title===e&&(g=d.find(".kolorArea .kolorAreaTitle"),g.css("color","#"+c),g.css("font-family",'"'+h+'", sans-serif'),g.css("font-weight",i),g.css("font-size",f+"px"),g.css("text-decoration",j));a.close_on_click&&d.find(".kolorArea").bind("click",L);I===n&&(jQuery(window).bind("resize",K),I=e);G();C();F();D();E();u();z();J();x=e}(a.refresh_content||b===n)&&this.e();r="open";this.o([a.animation]);a.animation||
B();(a.refresh_content||b===n)&&a.open_callback&&ktools.Code.eval(a.open_callback)};this.closeKolorArea=this.b=function(){"open"==r&&(r="close",this.l([a.animation]),a.animation||u(),a.close_callback&&ktools.Code.eval(a.close_callback))};this.showKolorArea=this.o=function(b){d.show();if(b&&Boolean(b[0]===e||"true"===b[0]||1===parseInt(b[0])||"yes"===b[0]||"on"===b[0])===e)d.find(".kolorArea").stop(),d.find(".kolorArea").animate({top:p,left:q},a.animation_duration,function(){})};this.hideKolorArea=
this.l=function(b){b&&Boolean(b[0]===e||"true"===b[0]||1===parseInt(b[0])||"yes"===b[0]||"on"===b[0])===e?(d.find(".kolorArea").stop(),d.find(".kolorArea").animate({top:v,left:w},a.animation_duration,function(){setTimeout(function(){d.hide()},100)})):d.hide()};this.updateKolorArea=this.v=function(a){a!=k&&"undefined"!=typeof a&&a[0]!=k&&this.m(a[0]);this.e()};this.updateContent=this.e=function(){if("null"!=s){jQuery(d).find(".kolorAreaContent").addClass("loading");jQuery(d).find(".kolorAreaContent").scrollTop(0);
var b="",b=a.use_i18n?ktools.I18N.getInstance().getMessage(s):ktools.String.decode(s);d.find(".kolorAreaContent").html(b);jQuery(d).find(".kolorAreaContent").removeClass("loading")}};this.updateBackgroundColor=this.u=function(b){"undefined"!=typeof b[0]&&(a.background_color=b[0]);"undefined"!=typeof b[1]&&(a.background_alpha=b[1]);A(a.background_color,a.background_alpha)};this.changeTitle=this.q=function(b){""!=a.title||"undefined"!=typeof b[0]&&""!=b[0]?(this.n({title:b[0]}),d.find(".kolorAreaTitle").html(ktools.I18N.getInstance().getMessage(a.title)),
d.find(".kolorAreaTitle").css("margin-left","2px")):d.find(".kolorAreaTitle").html("")}};KolorArea.w={A:"vertical",z:"horizontal"};KolorArea.a={j:"topleft",d:"top",k:"topright",i:"right",h:"bottomright",f:"bottom",g:"bottomleft",c:"left",p:"center"};})();